<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        *{
            margin:0;
            padding:0;
            box-sizing:border-box
        }
        body,html{
            width:100%;
            height:100%
        }

        th{
            text-align:center;
        }
    </style>
</head>
<body>
    <div class="container-fluid col-xs-6 col-xs-offset-3">
        <form>
            <div class="form-group"> 
                <label>姓名</label>
                <input type="text" class="form-control">
            </div>
            <div class="form-group">
                <label>学号</label>
                <input type="text" class="form-control">
            </div>
            <div class="form-group"> 
                <label>成绩</label>
                <input type="text" class="form-control">
            </div>
            <div class="form-group text-center">
                <button type="button" class="btn btn-success btn-sm" id="sub">提交</button>
            </div>
        </form>
        <hr>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>id</th>
                    <th>姓名</th>
                    <th>成绩</th>
                    <th>学号</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody id="content"></tbody>
        </table>
    </div>
    <script type="text/x-handlebars-template" class="text"> 
        {{#each users}}     
        <tr>
            <td class="id">{{@index}}</td>
            <td>{{user}}</td>
            <td>{{grade}}</td>
            <td>{{num}}</td>
            <td><button class="del">删除</button></td>
        </tr>
        {{/each}}  
    </script>
    <script src="js/libs/handlebars.min.js"></script>
    <script src="js/libs/jquery.min.js"></script>
    <script src="js/libs/require.js" data-main="js/main.js" defer="true" async></script> 
    <script>
        // var text = document.querySelector('.text');
        // var html = text.innerHTML;
        // var cont = Handlebars.compile(html);
        // var control = document.querySelectorAll('.form-control');
        // var local = window.localStorage;
        // var data = {
        //     users: []
        // }
        // var arr = [];
        // if (local.getItem('key')){
        //     arr=JSON.parse(local.getItem('key')) 
        //     data.users = arr;
        //     content.innerHTML = cont(data)       
        // }
        
        // sub.onclick = function () { // 提交数据显示到下文
        //     var user = control[0].value;
        //     var num = control[1].value;
        //     var grade = control[2].value;
        //     data.users.push({
        //         user: user,
        //         num:num,
        //         grade:grade
        //     })
        //     local.setItem('key', JSON.stringify(data.users));  
        //     content.innerHTML = cont(data)
                                
        // }
        $('tbody').on('click', '.del', function () {
            $(this).parents('tr').remove();
            data.users.splice($(this).parents('tr').find('td')*1, 1)
        })
    </script>
</body>
</html>